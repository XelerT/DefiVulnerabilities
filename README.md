### Structure

    src  - sources with vulnerable smart contracts
    test - files that will be run by forge

# Описание реализованных уязвимостей (Vulnerability Showcase)


---

### 1. Arbitrary External Call (SushiSwap RouteProcessor2)
* **Тип:** Нарушение валидации входных данных (Input Validation) / Access Control.
* **Механика:** Смарт-контракт роутера слепо доверяет параметрам маршрутизации (`route`), переданным пользователем, и декодирует из них адрес пула без проверки по «белому списку». Атакующий подставляет в маршрут адрес своего вредоносного контракта. Роутер, следуя инструкции, отправляет токены пользователя (или свои) на этот адрес, где вредоносный код похищает их вместо выполнения обмена.

### 2. Token Callback Reentrancy (Omni Protocol / NFT)
* **Тип:** Атака повторного входа (Reentrancy) через стандарты токенов (ERC-721, ERC-777, ERC-1155).
* **Механика:** Протокол нарушает паттерн **Checks-Effects-Interactions**: он сначала отправляет актив (NFT) пользователю, и только потом обновляет запись о долге или залоге. Токены стандарта ERC-721 при получении автоматически вызывают функцию-хук (`onERC721Received`) у получателя. Атакующий использует этот момент, чтобы повторно вызвать функцию протокола (например, `borrow`), пока система всё ещё считает, что залог находится внутри контракта.

### 3. Insolvency Logic Error (Euler Finance)
* **Тип:** Ошибка бизнес-логики (Business Logic Error) / Манипуляция состоянием.
* **Механика:** Функция пожертвования (`donateToReserves`) позволяет пользователю отдать свой залог в резервы протокола, но не проверяет, остается ли позиция пользователя «здоровой» (Solvent) после этого действия. Атакующий намеренно делает себя банкротом через пожертвование, а затем сам себя ликвидирует. Механизм ликвидации выплачивает ему «бонус» из резервов (которые он сам же и пополнил), и математическая модель бонуса позволяет вывести из протокола больше средств, чем было потрачено на погашение долга.